<html><head><title>Einsteiger-Kapitel - Anzeigen von Grafik-Ausgabe & einfaches Zeichnen</title><meta charset="utf-8"></head>
<body bgcolor="#FFFFDF" link="#009999" vlink="#006666" alink="#006666">
<font face="Arial" size="2"><p align="center"><b><font size="5">Einsteiger-Kapitel - Anzeigen von Grafik-Ausgabe & einfaches Zeichnen</font></b></p>

Dieses Beispiel zeigt, wie man eine einfache Zeichnung erstellt. Es verwendet die 
<a href="../2ddrawing/index.html">2D Zeichenbefehle</a> zum Zeichnen von zwei Sinuskurven 
mit verschiedenen Frequenzen und zeigt die durch die Kombination der beiden Wellen 
hergestelte &quot;Harmonie&quot;. Es verwendet <a href="../reference/procedures.html">Prozeduren</a>, 
welche wir uns später im Detail anschauen werden, um die Zeichenaufgaben in drei 
in sich abgeschlossene Aufgaben aufzuteilen: 
<br>
<br>
Zeichnen der Achsen - demonstriert den <a href="../2ddrawing/line.html">Line()</a> Befehl. <br>
Zeichnen der Legende - demonstriert die <a href="../2ddrawing/box.html">Box()</a> und <a href="../2ddrawing/drawtext.html">DrawText()</a> Befehle. <br>
Zeichnen der Wellen - demonstriert den <a href="../2ddrawing/linexy.html">LineXY()</a> Befehl und zeigt die Verwendung von Farben. 

<pre><font face="Courier New, Courier, mono" size="2">  <font color="#006666">; Fenster</font>
  <b><font color="#006666">Enumeration</font></b>
    <font color="#924B72">#WinHarmonic</font>
  <b><font color="#006666">EndEnumeration</font></b>
  
  <font color="#006666">; Gadgets</font>
  <b><font color="#006666">Enumeration</font></b>
    <font color="#924B72">#txtPlot1</font>
    <font color="#924B72">#cboPlot1</font>
    <font color="#924B72">#txtPlot2</font>
    <font color="#924B72">#cboPlot2</font>
    <font color="#924B72">#imgPlot</font>
  <b><font color="#006666">EndEnumeration</font></b>
  
  <font color="#006666">; Bild (Image)</font>
  <b><font color="#006666">Enumeration</font></b>
    <font color="#924B72">#drgPlot</font>
  <b><font color="#006666">EndEnumeration</font></b>
  
  <font color="#006666">; Die Bild-Abmessungen werden an verschiedenen Stellen zum Definieren weiterer Werte genutzt.</font>
  <font color="#924B72">#imgPlotX</font> = 8
  <font color="#924B72">#imgPlotY</font> = 40
  <font color="#924B72">#imgPlotW</font> = 745
  <font color="#924B72">#imgPlotH</font> = 645

  <font color="#006666">; Ereignis-Variablen</font>
  <b><font color="#006666">Define</font></b>.l Event, EventWindow, EventGadget, EventType, EventMenu
  
  <font color="#006666">; Implementierung</font>
  <b><font color="#006666">Procedure</font></b> <font color="#006666">CreateWindow</font>()
    <font color="#006666">; Erstellt das Fenster und die Gadgets.</font>
    
    <b><font color="#006666">If</font></b> <font color="#006666">OpenWindow</font>(<font color="#924B72">#WinHarmonic</font>, 30, 30, <font color="#924B72">#imgPlotW</font> + 20, <font color="#924B72">#imgPlotH</font> + 55, &quot;Harmonics&quot;, <font color="#924B72">#PB_Window_SystemMenu</font> | <font color="#924B72">#PB_Window_MinimizeGadget</font> | <font color="#924B72">#PB_Window_TitleBar</font>)
      
      <font color="#006666">; Dies ist ein nicht sichtbares Image, welches zum Zeichnen des Bildes verwendet wird,</font>
      <font color="#006666">; später wird sein Inhalt in #imgPlot dargestellt.</font>
<font color="#006666">      CreateImage</font>(<font color="#924B72">#drgPlot</font>, <font color="#924B72">#imgPlotW</font> - 5, <font color="#924B72">#imgPlotH</font> - 5, 24)
      
      <font color="#006666">; Beschriftung für die Plot 1 Auswahlbox.</font>
<font color="#006666">      TextGadget</font>(<font color="#924B72">#txtPlot1</font>, 2, 5, 50, 25, &quot;Plot 1:&quot;)
      
      <font color="#006666">; Die Plot 1 Auswahlbox.</font>
<font color="#006666">      ComboBoxGadget</font>(<font color="#924B72">#cboPlot1</font>, 55, 5, 150, 25)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot1</font>, 0, &quot;Sin(X)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot1</font>, 1, &quot;Sin(X * 2)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot1</font>, 2, &quot;Sin(X * 3)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot1</font>, 3, &quot;Sin(X * 4)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot1</font>, 4, &quot;Sin(X * 5)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot1</font>, 5, &quot;Sin(X * 6)&quot;)
      
      <font color="#006666">; Auswählen von Sin(X)</font>
<font color="#006666">      SetGadgetState</font>(<font color="#924B72">#cboPlot1</font>, 0)
      
      <font color="#006666">; Beschriftung für die Plot 2 Auswahlbox.</font>
<font color="#006666">      TextGadget</font>(<font color="#924B72">#txtPlot2</font>, 230, 5, 50, 25, &quot;Plot 2:&quot;)
      
      <font color="#006666">; Die Plot 2 Auswahlbox.</font>
<font color="#006666">      ComboBoxGadget</font>(<font color="#924B72">#cboPlot2</font>, 280, 5, 150, 25)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot2</font>, 0, &quot;Sin(X)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot2</font>, 1, &quot;Sin(X * 2)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot2</font>, 2, &quot;Sin(X * 3)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot2</font>, 3, &quot;Sin(X * 4)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot2</font>, 4, &quot;Sin(X * 5)&quot;)
<font color="#006666">      AddGadgetItem</font>(<font color="#924B72">#cboPlot2</font>, 5, &quot;Sin(X * 6)&quot;)
      
      <font color="#006666">; Auswählen Sin(X * 2), andernfalls ist die anfängliche Darstellung ziemlich uninteressant.</font>
<font color="#006666">      SetGadgetState</font>(<font color="#924B72">#cboPlot2</font>, 1)
      
      <font color="#006666">; Das sichtbare Bild-Gadget auf dem Fenster.</font>
<font color="#006666">      ImageGadget</font>(<font color="#924B72">#imgPlot</font>, <font color="#924B72">#imgPlotX</font>, <font color="#924B72">#imgPlotY</font>, <font color="#924B72">#imgPlotW</font>, <font color="#924B72">#imgPlotH</font>, 0, <font color="#924B72">#PB_Image_Border</font>)
      
    <b><font color="#006666">EndIf</font></b>
  <b><font color="#006666">EndProcedure</font></b>
  
  <b><font color="#006666">Procedure</font></b> <font color="#006666">PlotAxes</font>()
    <font color="#006666">; Zeichnet die Achsen auf dem Bild #drgPlot.</font>
    
    <font color="#006666">; Sendet Zeichenbefehle an #drgPlot.</font>
<font color="#006666">    StartDrawing</font>(<font color="#006666">ImageOutput</font>(<font color="#924B72">#drgPlot</font>))
    
      <font color="#006666">; Zeichnet einen weißen Hintergrund.</font>
<font color="#006666">      Box</font>(0, 0,<font color="#006666"> ImageWidth</font>(<font color="#924B72">#drgPlot</font>),<font color="#006666"> ImageHeight</font>(<font color="#924B72">#drgPlot</font>),<font color="#006666"> RGB</font>(255, 255, 255))
      
      <font color="#006666">; Zeichnet die Achsen in schwarz.</font>
<font color="#006666">      Line</font>(1, 1, 1,<font color="#006666"> ImageHeight</font>(<font color="#924B72">#drgPlot</font>) - 2,<font color="#006666"> RGB</font>(0, 0, 0))
<font color="#006666">      Line</font>(1, (<font color="#006666">ImageHeight</font>(<font color="#924B72">#drgPlot</font>) - 2) /2,<font color="#006666"> ImageWidth</font>(<font color="#924B72">#drgPlot</font>) -2, 1,<font color="#006666"> RGB</font>(0, 0, 0))
      
      <font color="#006666">; Zeichnen abschließen.</font>
<font color="#006666">    StopDrawing</font>()
  <b><font color="#006666">EndProcedure</font></b>
  
  <b><font color="#006666">Procedure</font></b> <font color="#006666">PlotLegend</font>(alngPlot1, alngPlot2)
    <font color="#006666">; Zeichnet die Legende auf dem Bild #drgPlot.</font>
    
    <b><font color="#006666">Protected</font></b>.s strFunc1, strFunc2, strLabel1, strLabel2, strLabel3
    
    <font color="#006666">; Legt den Beschriftungs-Text 1 fest.</font>
    <b><font color="#006666">If</font></b> alngPlot1 = 0 
      strFunc1 = &quot;Sin(X)&quot;
    <b><font color="#006666">Else</font></b>
      strFunc1 = &quot;Sin(X * &quot; +<font color="#006666"> StrU</font>(alngPlot1 + 1) + &quot;)&quot;
    <b><font color="#006666">EndIf</font></b>
    
    <font color="#006666">; Legt den Beschriftungs-Text 2 fest.</font>
    <b><font color="#006666">If</font></b> alngPlot2 = 0 
      strFunc2 = &quot;Sin(X)&quot;
    <b><font color="#006666">Else</font></b>
      strFunc2 = &quot;Sin(X * &quot; +<font color="#006666"> StrU</font>(alngPlot2 + 1) + &quot;)&quot;
    <b><font color="#006666">EndIf</font></b>
    
    <font color="#006666">; Legt den Beschriftungs-Text fest.</font>
    strLabel1 = &quot;Y = &quot; + strFunc1
    strLabel2 = &quot;Y = &quot; + strFunc2
    strLabel3 = &quot;Y = &quot; + strFunc1 + &quot; + &quot; + strFunc2 
    
    <font color="#006666">; Zeichnet die Legende.</font>
<font color="#006666">    StartDrawing</font>(<font color="#006666">ImageOutput</font>(<font color="#924B72">#drgPlot</font>))
    
      <font color="#006666">; Box.</font>
<font color="#006666">      DrawingMode</font>(<font color="#924B72">#PB_2DDrawing_Outlined</font>)
<font color="#006666">      Box</font>(20, 10,<font color="#006666"> TextWidth</font>(strLabel3) + 85, 80,<font color="#006666"> RGB</font>(0, 0, 0))
      
      <font color="#006666">; Beschriftung 1.</font>
<font color="#006666">      Line</font>(30, 30, 50, 1,<font color="#006666"> RGB</font>(0, 0, 255))
<font color="#006666">      DrawText</font>(95, 22, strLabel1,<font color="#006666"> RGB</font>(0, 0, 0),<font color="#006666"> RGB</font>(255, 255, 255))
      
      <font color="#006666">; Beschriftung 2.</font>
<font color="#006666">      Line</font>(30, 50, 50, 1,<font color="#006666"> RGB</font>(0, 255, 200))
<font color="#006666">      DrawText</font>(95, 42, strLabel2,<font color="#006666"> RGB</font>(0, 0, 0),<font color="#006666"> RGB</font>(255, 255, 255))
      
      <font color="#006666">; Beschriftung 3.</font>
<font color="#006666">      Line</font>(30, 70, 50, 1,<font color="#006666"> RGB</font>(255, 0, 0))
<font color="#006666">      DrawText</font>(95, 62, strLabel3,<font color="#006666"> RGB</font>(0, 0, 0),<font color="#006666"> RGB</font>(255, 255, 255))
      
<font color="#006666">    StopDrawing</font>()
  <b><font color="#006666">EndProcedure</font></b>
  
  <b><font color="#006666">Procedure</font></b> <font color="#006666">PlotFunction</font>(alngPlot1, alngPlot2)
    <font color="#006666">; Zeichnet die Wellenformen auf das Bild #drgPlot.</font>
    
    <b><font color="#006666">Protected</font></b>.l lngSX, lngEX
    <b><font color="#006666">Protected</font></b>.f fltRad1, fltRad2, fltSY1, fltEY1, fltSY2, fltEY2, fltSY3, fltEY3
    
<font color="#006666">    StartDrawing</font>(<font color="#006666">ImageOutput</font>(<font color="#924B72">#drgPlot</font>))
      
      <font color="#006666">; Legt die anfänglichen Start-Punkte für jede Welle fest.</font>
      lngSX = 1
      fltSY1 =<font color="#006666"> ImageHeight</font>(<font color="#924B72">#drgPlot</font>) / 2
      fltSY2 = fltSY1
      fltSY3 = fltSY1
      
      <font color="#006666">; Zeichnet die Wellenformen.</font>
      <b><font color="#006666">For</font></b> lngEX = 1 <b><font color="#006666">To</font></b> 720
        <font color="#006666">; Die Sinus-Funktion arbeitet im Bogenmaß, daher konvertieren von Grad und berechnen den Sinus.</font>
        
        <font color="#006666">; Funktion 1</font>
        <b><font color="#006666">If</font></b> alngPlot1 = 0 
          fltRad1 =<font color="#006666"> Sin</font>(<font color="#006666">Radian</font>(lngEX))
        <b><font color="#006666">Else</font></b>
          <font color="#006666">; Wenn die Funktion einen Multiplikator haben sollte, beachten wir dies.</font>
          fltRad1 =<font color="#006666"> Sin</font>(<font color="#006666">Radian</font>(lngEX) * (alngPlot1 + 1))
        <b><font color="#006666">EndIf</font></b>
        
        <font color="#006666">; Funktion 2</font>
        <b><font color="#006666">If</font></b> alngPlot2 = 0 
          fltRad2 =<font color="#006666"> Sin</font>(<font color="#006666">Radian</font>(lngEX))
        <b><font color="#006666">Else</font></b>
          fltRad2 =<font color="#006666"> Sin</font>(<font color="#006666">Radian</font>(lngEX) * (alngPlot2 + 1))
        <b><font color="#006666">EndIf</font></b>
        
        <font color="#006666">; Zeichnen der Funktion 1 in blau.</font>
        <font color="#006666">; Berechnen des Y Endpunkts.</font>
        fltEY1 = (<font color="#006666">ImageHeight</font>(<font color="#924B72">#drgPlot</font>) / 2) + (fltRad1 * 100)
        <font color="#006666">; Zeichnen einer Linie vom Startpunkt zum Endpunkt.</font>
<font color="#006666">        LineXY</font>(lngSX, fltSY1, lngEX, fltEY1,<font color="#006666"> RGB</font>(0, 0, 255))
        <font color="#006666">; Aktualisieren des nächsten Y Startpunkts, damit dieser den aktuellen Y Endpunkt übernimmt.</font>
        fltSY1 = fltEY1
        
        <font color="#006666">; Zeichnen der Funktion 2 in grün.</font>
        fltEY2 = (<font color="#006666">ImageHeight</font>(<font color="#924B72">#drgPlot</font>) / 2) + (fltRad2 * 100)
<font color="#006666">        LineXY</font>(lngSX, fltSY2, lngEX, fltEY2,<font color="#006666"> RGB</font>(0, 255, 200))
        fltSY2 = fltEY2
      
        <font color="#006666">; Zeichnen der Harmonie in rot.</font>
        fltEY3 = (<font color="#006666">ImageHeight</font>(<font color="#924B72">#drgPlot</font>) / 2) + ((fltRad1 + fltRad2) * 100)
<font color="#006666">        LineXY</font>(lngSX, fltSY3, lngEX, fltEY3,<font color="#006666"> RGB</font>(255, 0, 0))
        fltSY3 = fltEY3
        
        <font color="#006666">; Aktualisieren des X Startpunkts, damit dieser den aktuellen X Endpunkt übernimmt.</font>
        lngSX = lngEX
      <b><font color="#006666">Next</font></b> lngEX
      
<font color="#006666">    StopDrawing</font>()
    
  <b><font color="#006666">EndProcedure</font></b>
  
  <font color="#006666">;- Main</font>
<font color="#006666">  CreateWindow</font>()
<font color="#006666">  PlotAxes</font>()
<font color="#006666">  PlotLegend</font>(<font color="#006666">GetGadgetState</font>(<font color="#924B72">#cboPlot1</font>),<font color="#006666"> GetGadgetState</font>(<font color="#924B72">#cboPlot2</font>))
<font color="#006666">  PlotFunction</font>(<font color="#006666">GetGadgetState</font>(<font color="#924B72">#cboPlot1</font>),<font color="#006666"> GetGadgetState</font>(<font color="#924B72">#cboPlot2</font>))
  
  <font color="#006666">; Neu laden des Image Gadgets, da das Zeichnen nun komplett ist.</font>
<font color="#006666">  ImageGadget</font>(<font color="#924B72">#imgPlot</font>, <font color="#924B72">#imgPlotX</font>, <font color="#924B72">#imgPlotY</font>, <font color="#924B72">#imgPlotW</font>, <font color="#924B72">#imgPlotH</font>,<font color="#006666"> ImageID</font>(<font color="#924B72">#drgPlot</font>), <font color="#924B72">#PB_Image_Border</font>)
  
  <font color="#006666">;- Ereignis-Schleife</font>
  <b><font color="#006666">Repeat</font></b>
    Event =<font color="#006666"> WaitWindowEvent</font>()
    EventWindow =<font color="#006666"> EventWindow</font>()
    EventGadget =<font color="#006666"> EventGadget</font>()
    EventType =<font color="#006666"> EventType</font>()
    
    <b><font color="#006666">Select</font></b> Event
      <b><font color="#006666">Case</font></b> <font color="#924B72">#PB_Event_Gadget</font>
        <b><font color="#006666">If</font></b> EventGadget = <font color="#924B72">#txtPlot1</font> <b><font color="#006666">Or</font></b> EventGadget = <font color="#924B72">#txtPlot2</font>
          <font color="#006666">; Tue nichts.</font>
        <b><font color="#006666">ElseIf</font></b> EventGadget = <font color="#924B72">#imgPlot</font>
          <font color="#006666">; Tue nichts.</font>
        <b><font color="#006666">ElseIf</font></b> EventGadget = <font color="#924B72">#cboPlot1</font> <b><font color="#006666">Or</font></b> EventGadget = <font color="#924B72">#cboPlot2</font>
          <font color="#006666">; Wenn eine der Auswahlboxen verändert wurde, zeichnen wir das Bild erneut.</font>
<font color="#006666">          PlotAxes</font>()
<font color="#006666">          PlotLegend</font>(<font color="#006666">GetGadgetState</font>(<font color="#924B72">#cboPlot1</font>),<font color="#006666"> GetGadgetState</font>(<font color="#924B72">#cboPlot2</font>))
<font color="#006666">          PlotFunction</font>(<font color="#006666">GetGadgetState</font>(<font color="#924B72">#cboPlot1</font>),<font color="#006666"> GetGadgetState</font>(<font color="#924B72">#cboPlot2</font>))
<font color="#006666">          ImageGadget</font>(<font color="#924B72">#imgPlot</font>, <font color="#924B72">#imgPlotX</font>, <font color="#924B72">#imgPlotY</font>, <font color="#924B72">#imgPlotW</font>, <font color="#924B72">#imgPlotH</font>,<font color="#006666"> ImageID</font>(<font color="#924B72">#drgPlot</font>), <font color="#924B72">#PB_Image_Border</font>)
        <b><font color="#006666">EndIf</font></b>
      <b><font color="#006666">Case</font></b> <font color="#924B72">#PB_Event_CloseWindow</font>
        <b><font color="#006666">If</font></b> EventWindow = <font color="#924B72">#WinHarmonic</font>
<font color="#006666">          CloseWindow</font>(<font color="#924B72">#WinHarmonic</font>)
          <b><font color="#006666">Break</font></b>
        <b><font color="#006666">EndIf</font></b>
    <b><font color="#006666">EndSelect</font></b>
  <b><font color="#006666">ForEver</font></b>
</font></pre>


<p><b>Einsteiger-Kapitel Navigation</b></p><blockquote>

<a href="../reference/ug_gui.html">< Vorheriges: Erstellen einer grafischen Benutzeroberfläche (GUI)</a> | <a href="../reference/ug_overview.html">Überblick</a> | <a href="../reference/ug_procedures.html">Nächstes: Strukturieren von Programmcode in Prozeduren ></a> 
</blockquote>
</font></body></html>