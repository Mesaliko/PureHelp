<html><head><title>Using the command line compiler</title><meta charset="utf-8"></head>
<body bgcolor="#FFFFDF" link="#009999" vlink="#006666" alink="#006666">
<font face="Arial" size="2"><p align="center"><b><font size="5">Using the command line compiler</font></b></p>

<p><b>Introduction</b></p><blockquote>


The command line compiler is located in the subdirectory 'compilers' from the PureBasic folder. 
The easier way to access it is to add this directory in the PATH variable, 
which will give access to all the commands of this directory at all times. 
<br>
<br>
There is two compilers for PureBasic: <br>
- 'pbcompiler' which is generating assembly code (x86 and x64)<br>
- 'pbcompilerc' (or 'pbcompiler' on platform which doesn't support the assembly backend) which is generating C code<br>
<br>
The C backend compiler is available on all supported platforms, while the ASM backend compiler 
is only supported on Windows (x86, x64), Linux (x86, x64) and OS X (x64). 
<br>
<br>
The backend C compiler does not allow entering assembly code. 
<br>
<br>
On Windows a 'PureBasic-CLI.cmd' file is available in the PureBasic root directly to easily open a commandline prompt to use the PureBasic 
commandline tools. 

</blockquote>
<p><b>Cross-platform command switches</b></p><blockquote>


Note: All switches name which begin with '/' are only valid on Windows (ie: '/DEBUGGER'). If you need to write cross-plaform 
commandline, you can use the '-' or '--' format (ie: '-d' or '--debugger). 
<br>
<br>
-h, --help, /?: displays a quick help about the compiler. <br>
<br>
-d, --debugger, /DEBUGGER: enables the debugger support. <br>
<br>
-cl, --console, /CONSOLE: output file in <a href="../console/index.html">Console</a> format. Default format on Windows is Win32. <br>
<br>
-pf, --purifier, /PURIFIER: enables the purifier. The debugger needs to be activated to have any effect. <br>
<br>
-o, --output, /OUTPUT &quot;filename&quot;: creates a standalone executable or DLL specified by the filename at the desired path location. 
On MacOS X it's possible to create an application bundle by adding '.app' to the name of the executable. This way the whole 
directory structure will be automatically created. <br>
<br>
-r, --resident, /RESIDENT &quot;filename&quot;: creates a resident file specified by the filename. <br>
<br>
-i, --import, /IMPORT &quot;filename&quot;: creates an import file to the given filename. Only one Import/EndImport block is allowed 
in the file. The imported functions will be loaded automatically for every PureBasic projects. <br>
<br>
-l or --linenumbering, /LINENUMBERING: adds lines and files information to the executable, which can slow it considerably. 
This allows the <a href="../onerror/index.html">OnError library</a> to report the file and line-number of an error. <br>
<br>
-q, --quiet, /QUIET: disables all unnecessary text output, very useful when using another editor. <br>
<br>
-sb, --standby, /STANDBY: loads the compiler in memory and wait for external commands (editor, scripts...). 
More information about using this flag is available in the file 'CompilerInterface.txt' from the PureBasic 'SDK' directory. <br>
<br>
-ir, --ignoreresident, /IGNORERESIDENT &quot;filename&quot;: doesn't load the specified resident file when the compiler starts. It's 
mostly useful when updating a resident which already exists, so it won't load it. <br>
<br>
-co, --constant, /CONSTANT name=value: creates the specified constant with the given expression. 
Example: 'pbcompiler test.pb /CONSTANT MyConstant=10'. The constant <font color="#924B72">#MyConstant</font> 
will be created on the fly with a value of 10 before the program gets compiled. <br>
<br>
-t, --thread, /THREAD: uses thread safe runtime for strings and general routines.<br>
<br>
-s, --subsystem, /SUBSYSTEM &quot;name&quot;: uses the specific subsystem to replace a set of internal functions. The subsystem name is 
not case-sensitive. For more information, see <a href="../reference/subsystems.html">subsystems</a>. <br>
<br>
-k, --check, /CHECK: checks the syntax only, doesn't create or launch the executable. <br>
<br>
-z, --optimizer, /OPTIMIZER: enable the code optimizer. <br>
<br>
-c, --commented, /COMMENTED: creates a commented 'purebasic.asm' or 'purebasic.c' output file when creating an executable. 
This file can be re-assembled with the '--reasm' option later when the needed modifications have been made. 
This option is for advanced programmers only. <br>
<br>
-ra, --reasm, /REASM: re-assembles the 'purebasic.asm' or 'purebasic.c' file into an executable. This allow to use the '--commented' option, 
modify the generated output and creates the executable again. <br>
This option is for advanced programmers only. <br>
<br>
-pp, --preprocess, /PREPROCESS &quot;filename&quot;: preprocess the source code and write the output in the specified &quot;Filename&quot;. 
The processed file is a single file with all macro expanded, compiler directive handled and 
multiline resolved. This allows an easier parsing of a PureBasic source file, as all is expanded 
and is available in a flat file format. No comments are included by default, but the flag '--commented' can be 
used to have all untouched original source as comments and allow comments processing. The preprocessed 
file can be recompiled as any other PureBasic source file to create the final executable. <br>
<br>
-ls, --liststructures, /LISTSTRUCTURES: creates a file with all the built-in structures known by the compiler. The filename can 
be specified with '--output'. <br>
<br>
-lf, --listfunction, /LISTFUNCTIONS: creates a file with all the built-in purebasic commands known by the compiler. The filename can 
be specified with '--output'. <br>
<br>
-li, --listinterfaces, /LISTINTERFACES: creates a file with all the built-in interfaces known by the compiler. The filename can 
be specified with '--output'. <br>
<br>
-qs, --querystructure, /QUERYSTRUCTURE &quot;name&quot;: creates a file with the structure definition. The filename can 
be specified with '--output. <br>
<br>
-g, --language, /LANGUAGE \&quot;language\&quot;: uses the specified language for the compiler error messages. <br>
<br>
-v, --version, /VERSION: displays the compiler version. <br>
<br>
<b>Examples:</b> 

<pre><font face="Courier New, Courier, mono" size="2">  CLI&gt; pbcompiler sourcecode.pb
</font></pre>

The compiler will compile the source code and execute it. <br>
<br>

<pre><font face="Courier New, Courier, mono" size="2">  CLI&gt; pbcompiler sourcecode.pb --debugger
</font></pre>

The compiler will compile the source code and execute it with debugger. 
<br>
<br>

</blockquote>
<p><b>Windows specific command switches</b></p><blockquote>


/ICON &quot;IconName.ico&quot; : add the specified icon to the executable. <br>
<br>
/DLL: output file is a <a href="../reference/dll.html">DLL</a>. <br>
<br>
/XP: Add the Windows theme support to the executable. <br>
<br>
/MMX, /3DNOW, /SSE or /SSE2: Creates a processor specific executable. This means if a 
processor specific routine is available it will be used for this executable. 
Therefore, the executable will run correctly only on computer with this kind of CPU. <br>
<br>
/DYNAMICCPU: Creates a executable containing all the available processor specific routines. 
When the program is started, it looks for the processor type and then select the more 
appropriates routines to use. This makes a bigger executable, but result in the 
fastest possible program.<br>
<br>
/RESOURCE &quot;Filename&quot;: Add a Windows resource file (.rc) to the created executable or DLL. This 
should be not a compiled resource file, but an ascii file with the directives in it. It's possible 
to specify only one resource, but this file can include other resource script if needed. <br>
<br>
/LINKER &quot;ResponseFile&quot;: Specify a file which contains commands to be passed directly to the linker. 
On Windows, PureBasic use the PellesC linker (polink), more information about the possible 
options can be found in the related documentation. <br>
<br>
<br>
The following two compiler options are needed for creating programs running on Microsoft Vista OS or above (Windows 7/8/10). 
They are both options for the included manifest, so they are ignored on older windows versions. 
With none of these switches, the exe will run as a normal user as well, but with virtualization 
turned on (i.e. registry and file redirection). It is recommended to use the /USER switch to turn 
of virtualization for all programs that comply to the standard user privileges, as it is only 
intended for compatibility for older programs. These options are also available in the 
<a href="../reference/ide_compiler.html">IDE compiler options</a>. <br>
<br>
/ADMINISTRATOR: Will cause the program to request admin privileges at start. The program 
will not run without it. This option is needed. Note: You can also <a href="../reference/ide_debugger.html">debug</a> 
programs with this flag, but only with the standalone gui debugger (as it must run in elevated mode as well). <br>
<br>
/USER: The program will run as the user who started it. Virtualization for the exe is turned off. <br>
<br>
/DPIAWARE: Enable DPI support to the executable. <br>
<br>
/DLLPROTECTION: Enable DLL preloading protection to the executable. It prevents that system DLLs are first searched for in the program directory 
instead of in the System32 directory of the Windows operating system. <br>
<br>
/UCRT: Use the dynamic universal CRT when creating the executable or DLL. It is recommended when creating an executable or a DLL which doesn't need to support older Windows version below Windows 10. The 
resulting executable or DLL will be smaller and will get automatic security fixes from the CRT when Microsoft updates it. This option is always enabled on PureBasic for Windows arm64. <br>
<br>

<b>Examples:</b> 

<pre><font face="Courier New, Courier, mono" size="2">  CLI&gt; pbcompiler &quot;C:\Project\Source\DLLSource.pb&quot; /EXE &quot;C:\Project\project.dll&quot; /DLL
</font></pre>

The compiler will compile the source code (here with full path) and create the DLL &quot;project.dll&quot; in the given directory. 
<br>
<br>

</blockquote>
<p><b>Linux specific command switches</b></p><blockquote>


-so or --sharedobject &quot;filename&quot;: Create a dynamic library (shared object). <br>
<br>
-mmx, -3dnow, -sse or -sse2: Creates a processor specific executable. This means if a 
processor specific routine is available it will be used for this executable. 
Therefore, the executable will run correctly only on computer with this kind of CPU. <br>
<br>
-dc or --dynamiccpu: Creates a executable containing all the available processor specific routines. 
When the program is started, it looks for the processor type and then select the more 
appropriates routines to use. This makes a bigger executable, but result in the 
fastest possible program. 

<br>
<br>

</blockquote>
<p><b>OS X specific command switches</b></p><blockquote>


-n or --icon &quot;filename.icns&quot; : add the specified icon to the executable. <br>
<br>
-dl or --dylib &quot;filename&quot;: Create a dynamic library (dylib object). <br>
<br>
-f or --front: put the launched process to front. <br>
<br>
-ibp or --ignorebundlepath: don't use the bundle path as current directory. 

<br>
<br>


</blockquote>
</font></body></html>