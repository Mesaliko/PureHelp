<html><head><title>WebViewGadget</title><meta charset="utf-8"></head>
<body bgcolor="#FFFFDF" link="#009999" vlink="#006666" alink="#006666">
<font face="Arial" size="2"><p align="center"><b><font size="4">WebViewGadget()</font></b></p>
<p><b>Syntaxe</b></p><blockquote>
Resultat = <font color="#006666"><b>WebViewGadget</b></font>(#Gadget, x, y, Longueur, Hauteur [, Options])</blockquote>

<b>Description</b><br><blockquote>

Crée un nouveau gadget d'affichage Web. 

</blockquote><p><b>Arguments</b></p><blockquote>
<style type="text/css">
table.parameters { border-spacing: 0px; border-style: none; border-collapse: collapse; }
table.parameters td { border-width: 1px; padding: 6px; border-style: solid; border-color: gray; vertical-align: top; font-family:Arial; font-size:10pt; }
</style>
<table width="90%" class="parameters">
<tr><td width="10%"><i>#Gadget</i></td>
<td width="90%"> 
Le numéro d'identification du gadget. 
<br>
<br>
<a href="../reference/purebasic_objects.html">#PB_Any</a> peut être utilisé pour générer automatiquement ce numéro. 

</td></tr>
<tr><td><i>x, y,Longueur, Hauteur</i></td>
<td> 
La position et les dimensions du nouveau gadget. 

</td></tr>
<tr><td><i>Options (optionnel)</i></td>
<td> 
Modifie le comportement du gadget : 
<pre><font face="Courier New, Courier, mono" size="2">   <font color="#924B72">#PB_WebView_Debug</font> : Active l'élément de menu contextuel 'Inspecter' pour afficher l'inspecteur Web et la console.
</font></pre>

</td></tr>
</table>
</blockquote><p><b>Valeur de retour</b></p><blockquote>

Renvoie une valeur non nulle en cas de succès, zéro sinon. 
<br>
<br>
Si <font color="#924B72">#PB_Any</font> a été utilisé comme paramètre #Gadget alors la valeur de retour est le numéro de gadget 
généré automatiquement, en cas de succès. 

</blockquote><p><b>Remarques</b></p><blockquote>

Si nécessaire, un proxy peut être défini avec <a href="webviewproxy.html">WebViewProxy()</a>. 
<br>
<br>
Après la création, utilisez <a href="bindwebviewcallback.html">BindWebViewCallback()</a> pour interagir avec le code JavaScript de 
l'interface utilisateur.<br>
De plus, les commandes de gadget courantes telles que <a href="../gadget/resizegadget.html">ResizeGadget()</a> ou <a href="../gadget/hidegadget.html">HideGadget()</a> peuvent 
également être utilisées. 
<br>
<br>
Les fonctions suivantes peuvent être utilisées pour agir sur un WebViewGadget : 
<br>
<br>
- <a href="../gadget/setgadgettext.html">SetGadgetText()</a> : Modifie l'URL actuelle. Il peut s'agir d'un URL de fichier local tel que 
&quot;file://c:/purebasic/svn/webview.html&quot; ou d'une URL HTTP standard. Lors de l'utilisation 
d'un URL de fichier local, il doit s'agir du chemin d'accès complet. Vous pouvez facilement 
construire l'URL local en ajoutant 'file://' au chemin d'accès. 
<br>
<br>
- <a href="../gadget/setgadgetitemtext.html">SetGadgetItemText()</a> : Avec <font color="#924B72">#PB_WebView_HtmlCode</font> comme 'élément', le code HTML peut être diffusé 
(streamé) dans le gadget. Toutefois, le code HTML est traité comme un contenu local non fiable et certaines 
autorisations ne sont pas autorisées. 
<br>


</blockquote><p><b>Exemple:</b> Utiliser des fichiers HTML et CSS locaux</p><blockquote>

<pre><font face="Courier New, Courier, mono" size="2">  <b><font color="#006666">Procedure</font></b> <font color="#006666">IncrementJS</font>(ParametreJSON$)
    <b><font color="#006666">Static</font></b> i
    <b><font color="#006666">Debug</font></b> &quot;IncrementJS &quot;+ParametreJSON$
    i+1
    <b><font color="#006666">ProcedureReturn</font></b> <font color="#006666">UTF8</font>(~&quot;{ \&quot;count\&quot;: &quot;+<font color="#006666">Str</font>(i)+ &quot;}&quot;)
  <b><font color="#006666">EndProcedure</font></b>

  <b><font color="#006666">Procedure</font></b> <font color="#006666">ComputeJS</font>(ParametreJSON$)
    <b><font color="#006666">Debug</font></b> &quot;ComputeJS &quot;+ParametreJSON$
    <b><font color="#006666">ProcedureReturn</font></b> <font color="#006666">UTF8</font>(~&quot;150&quot;)
  <b><font color="#006666">EndProcedure</font></b>

<font color="#006666">  OpenWindow</font>(0, 100, 100, 400, 400, &quot;Salut&quot;, <font color="#924B72">#PB_Window_SystemMenu</font>)

<font color="#006666">  WebViewGadget</font>(0, 0, 0, 400, 400)
<font color="#006666">  SetGadgetText</font>(0, &quot;file://&quot; + <font color="#924B72">#PB_Compiler_Home</font> + &quot;examples/sources/Data/WebView/webview.html&quot;)
    
<font color="#006666">  BindWebViewCallback</font>(0, &quot;increment&quot;, @IncrementJS())
<font color="#006666">  BindWebViewCallback</font>(0, &quot;compute&quot;, @ComputeJS())

  <b><font color="#006666">Repeat</font></b> 
    Event =<font color="#006666"> WaitWindowEvent</font>()
  <b><font color="#006666">Until</font></b> Event = <font color="#924B72">#PB_Event_CloseWindow</font>
</font></pre>

</blockquote><p><b>Exemple:</b> En utilisant du code HTML en ligne</p><blockquote>

<pre><font face="Courier New, Courier, mono" size="2">  <b><font color="#006666">Procedure</font></b> <font color="#006666">IncrementJS</font>(ParametreJSON$)
    <b><font color="#006666">Static</font></b> i
    <b><font color="#006666">Debug</font></b> &quot;IncrementJS &quot;+ParametreJSON$
    i+1
    <b><font color="#006666">ProcedureReturn</font></b> <font color="#006666">UTF8</font>(~&quot;{ \&quot;count\&quot;: &quot;+<font color="#006666">Str</font>(i)+ &quot;}&quot;)
  <b><font color="#006666">EndProcedure</font></b>

  <b><font color="#006666">Procedure</font></b> <font color="#006666">ComputeJS</font>(ParametreJSON$)
    <b><font color="#006666">Debug</font></b> &quot;ComputeJS &quot;+ParametreJSON$
    <b><font color="#006666">ProcedureReturn</font></b> <font color="#006666">UTF8</font>(~&quot;150&quot;)
  <b><font color="#006666">EndProcedure</font></b>

<font color="#006666">  OpenWindow</font>(0, 100, 100, 400, 400, &quot;Salut&quot;, <font color="#924B72">#PB_Window_SystemMenu</font>)

<font color="#006666">  WebViewGadget</font>(0, 0, 0, 400, 400)

<font color="#006666">  SetGadgetItemText</font>(0, <font color="#924B72">#PB_WebView_HtmlCode</font>, 
                    ~&quot;&lt;button id=\&quot;increment\&quot;&gt;Cliquez moi !&lt;/button&gt;\n&quot;+
                    ~&quot;&lt;div&gt;Vous avez cliqué &lt;span id=\&quot;count\&quot;&gt;0&lt;/span&gt; fois.&lt;/div&gt;\n&quot;+
                    ~&quot;&lt;button id=\&quot;compute\&quot;&gt;Calculer&lt;/button&gt;\n&quot;+
                    ~&quot;&lt;div&gt;Resultat du calcul: &lt;span id=\&quot;compute-result\&quot;&gt;0&lt;/span&gt;&lt;/div&gt;\n&quot;+
                    ~&quot;&lt;script&gt;\n&quot;+
                    ~&quot;  const [incrementElement, countElement, computeElement, &quot;+
                    ~&quot;computeResultElement] =\n&quot;+
                    ~&quot;    document.querySelectorAll(\&quot;#increment, #count, #compute, &quot;+
                    ~&quot;#compute-result\&quot;);\n&quot;+
                    ~&quot;  document.addEventListener(\&quot;DOMContentLoaded\&quot;, () =&gt; {\n&quot;+
                    ~&quot;    incrementElement.addEventListener(\&quot;click\&quot;, () =&gt; {\n&quot;+
                    ~&quot;      window.increment().then(result =&gt; {\n&quot;+
                    ~&quot;        countElement.textContent = result.count;\n&quot;+
                    ~&quot;      });\n&quot;+
                    ~&quot;    });\n&quot;+
                    ~&quot;    computeElement.addEventListener(\&quot;click\&quot;, () =&gt; {\n&quot;+
                    ~&quot;      computeElement.disabled = true;\n&quot;+
                    ~&quot;      window.compute(6, 7).then(result =&gt; {\n&quot;+
                    ~&quot;        computeResultElement.textContent = result;\n&quot;+
                    ~&quot;        computeElement.disabled = false;\n&quot;+
                    ~&quot;      });\n&quot;+
                    ~&quot;    });\n&quot;+
                    ~&quot;  });\n&quot;+
                    ~&quot;&lt;/script&gt;&quot;)
    
<font color="#006666">  BindWebViewCallback</font>(0, &quot;increment&quot;, @IncrementJS())
<font color="#006666">  BindWebViewCallback</font>(0, &quot;compute&quot;, @ComputeJS())

  <b><font color="#006666">Repeat</font></b> 
    Event =<font color="#006666"> WaitWindowEvent</font>()
  <b><font color="#006666">Until</font></b> Event = <font color="#924B72">#PB_Event_CloseWindow</font>
</font></pre>

</blockquote><p><b>Exemple:</b> Avec menu contextuel désactivé</p><blockquote>

<pre><font face="Courier New, Courier, mono" size="2">  Html$ = ~&quot;&lt;html style=\&quot;margin:0px;height:100%;width:100%\&quot;&gt;&quot;+
          ~&quot;&lt;body oncontextmenu=\&quot;return false;\&quot; style=\&quot;margin:0px;min-height:100%;width:100%\&quot;&gt;&quot;+
          ~&quot;&lt;button id=\&quot;displayInfo\&quot;&gt;Info&lt;/button&gt;&quot;+
          ~&quot;&lt;/body&gt;&lt;/html&gt;\n&quot;
  
<font color="#006666">  OpenWindow</font>(0, 100, 100, 400, 400, &quot;Pas de clic droit&quot;, <font color="#924B72">#PB_Window_SystemMenu</font>)

<font color="#006666">  WebViewGadget</font>(0, 0, 0, 400, 400)
<font color="#006666">  SetGadgetItemText</font>(0, <font color="#924B72">#PB_WebView_HtmlCode</font>, Html$)

  <b><font color="#006666">Repeat</font></b> 
    Event =<font color="#006666"> WaitWindowEvent</font>()
  <b><font color="#006666">Until</font></b> Event = <font color="#924B72">#PB_Event_CloseWindow</font>
</font></pre>

</blockquote><p><b>Voir aussi</b></p><blockquote>
<a href="webviewexecutescript.html">WebViewExecuteScript()</a>, <a href="bindwebviewcallback.html">BindWebViewCallback()</a>, <a href="webviewproxy.html">WebViewProxy()</a> 

</Blockquote><p><b>OS Supportés </b><Blockquote>Tous</Blockquote></p><center><- <a href=webviewexecutescript.html>WebViewExecuteScript()</a> - <a href=index.html>WebView Index</a> - <a href=webviewproxy.html>WebViewProxy()</a> -><br><br>

</body></html>