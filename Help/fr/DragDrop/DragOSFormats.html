<html><head><title>DragOSFormats</title><meta charset="utf-8"></head>
<body bgcolor="#FFFFDF" link="#009999" vlink="#006666" alink="#006666">
<font face="Arial" size="2"><p align="center"><b><font size="4">DragOSFormats()</font></b></p>
<p><b>Syntaxe</b></p><blockquote>
Resultat = <font color="#006666"><b>DragOSFormats</b></font>(Formats(), NbFormats [, Actions])</blockquote>


</blockquote>
<b>Description</b><br><blockquote>

Lance une opération de 'Drag &amp; Drop' avec 
une liste de formats propre au système 
d'exploitation. 
Ceci permet de supporter des formats de 
données qui ne sont pas nativement gérés par 
PureBasic tout en gardant la simplicité 
d'utilisation fournie par cette bibliothèque. 

</blockquote><p><b>Arguments</b></p><blockquote>
<style type="text/css">
table.parameters { border-spacing: 0px; border-style: none; border-collapse: collapse; }
table.parameters td { border-width: 1px; padding: 6px; border-style: solid; border-color: gray; vertical-align: top; font-family:Arial; font-size:10pt; }
</style>
<table width="90%" class="parameters">
<tr><td width="10%"><i>Formats()</i></td>
<td width="90%"> 
Est un <a href="../reference/dim.html">tableau</a> de 
<a href="../reference/structures.html">structures</a> 'DragDataFormat' 
contenant un ou plusieurs formats à gérer. 

<pre><font face="Courier New, Courier, mono" size="2">  <b><font color="#006666">Structure</font></b> DragDataFormat
    Format.i    <font color="#006666">; L'identifant de l'OS concernant le format (voir ci-dessous)</font>
   *Buffer      <font color="#006666">; La zone mémoire contenant la donnée dans ce format</font>
    Size.i      <font color="#006666">; La taille de la zone mémoire</font>
  <b><font color="#006666">EndStructure</font></b>
</font></pre>

<b>Windows:</b> 
<blockquote>

Sous Windows, le champ 'Format' est une 
valeur de type 'CLIPBOARDFORMAT'. Ce peut 
être n'importe quel format standard (voir 
le SDK Windows), ou un format enregistré 
avec l'API RegisterClipboardFormat_(). 
</blockquote>


<b>Linux:</b> 
<blockquote>

Sous Linux, le champ 'Format' est une 
valeur de type 'GdkAtom'. Il peut être 
créé avec la fonction gdk_atom_intern_(). 
Les &quot;atomes&quot; sont généralement assimilés 
à des types mime usuels (i.e &quot;text/html&quot; 
pour des données HTML). 
L'atome peut aussi être créé avec n'importe 
quelle chaîne capable d'être correctement 
interprétée par l'application cible. 
</blockquote>


<b>MacOSX:</b> 
<blockquote>

Sur MacOSX, le champ 'Format' précise un type 
pour le contenu du presse-papier via le 
&quot;scrap manager&quot; ( le gestionnaire du 
presse-papier). 
Il possède quatre caractères alphanumériques 
constants, 'TEXT' par exemple. Il y a un 
certain nombre de types prédéfinis, mais on 
peut également utiliser des valeurs 
personnalisées à condition que le programme 
cible puisse les interpréter correctement. 
</blockquote>


</td></tr>
<tr><td><i>NbFormats</i></td>
<td> 
Le nombre de formats dans le tableau. 
<blockquote>

Si plusieurs formats sont transférés, 
l'application cible acceptera le premier 
qu'elle reconnaîtra. 
Le format qui fournit le plus d'informations 
(donc qui représente le plus fidèlement la 
donnée) doit être le premier dans le tableau, 
suivi par les autres qui sont de moins en 
moins précis. 
De cette façon, chaque application recevra 
la meilleure réprésentation de la donnée, en 
fonction de ce qu'elle sait interpréter. 
</blockquote>


</td></tr>
<tr><td><i>Actions (optionnel)</i></td>
<td> 
Si ce paramètre est omis, <font color="#924B72">#PB_Drag_Copy</font> 
sera utilisé comme valeur par défaut. 
Peut être une combinaison de: 
<pre><font face="Courier New, Courier, mono" size="2">  <font color="#924B72">#PB_Drag_Copy</font>: La donnée peut être copiée
  <font color="#924B72">#PB_Drag_Move</font>: La donnée peut être déplacée
  <font color="#924B72">#PB_Drag_Link</font>: La donnée peut être liée
</font></pre>
<blockquote>

L'utilisateur peut décider de l'action à 
prendre en utilisant les touches Ctrl ou 
Shift. Les actions disponibles dépendent 
aussi du composant sur lequel le texte va 
être déposé. 
(Sous MacOSX, les actions ne sont traitées 
que comme une suggestion. La cible de dépôt 
peut encore choisir une autre action.) 
</blockquote>


</td></tr>
</table>
</blockquote><p><b>Valeur de retour</b></p><blockquote>

Renvoie une des valeurs 'Actions' pour 
indiquer laquelle a été choisie par 
l'utilisateur, ou <font color="#924B72">#PB_Drag_None</font> si le 
'Drag &amp; Drop' a été annulé. 
<br>
<br>
<b>Note:</b> si <font color="#924B72">#PB_Drag_Move</font> est renvoyé, 
la donnée déposée ne sera pas automatiquement 
effacée de l'application PureBasic. Il faudra 
le faire en réponse à ce message. 

</blockquote><p><b>Remarques</b></p><blockquote>

Un 'Drag &amp; Drop' peut être démarré n'importe 
quand, mais il faut que le bouton gauche de 
la souris soit appuyé sinon l'opération se 
terminera immédiatement. Le moment le plus 
approprié pour lancer un 'Drag &amp; Drop' est 
en réponse à un évènement sur un 
<a href="../gadget/index.html">Gadget</a> avec un 
<a href="../window/eventtype.html">EventType()</a> valant <font color="#924B72">#PB_EventType_DragStart</font>. 

</blockquote><p><b>Voir aussi</b></p><blockquote>

<a href="dragtext.html">DragText()</a>, <a href="dragimage.html">DragImage()</a>, <a href="dragfiles.html">DragFiles()</a>, 
<a href="dragprivate.html">DragPrivate()</a>, <a href="setdragcallback.html">SetDragCallback()</a> 

</Blockquote><p><b>OS Supportés </b><Blockquote>Tous</Blockquote></p><center><- <a href=dragimage.html>DragImage()</a> - <a href=index.html>DragDrop Index</a> - <a href=dragprivate.html>DragPrivate()</a> -><br><br>

</body></html>