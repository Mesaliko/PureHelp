<html><head><title>ExamineMouse</title><meta charset="utf-8"></head>
<body bgcolor="#FFFFDF" link="#009999" vlink="#006666" alink="#006666">
<font face="Arial" size="2"><p align="center"><b><font size="4">ExamineMouse()</font></b></p>
<p><b>Syntaxe</b></p><blockquote>
Resultat = <font color="#006666"><b>ExamineMouse</b></font>() </blockquote>

</blockquote>
<b>Description</b><br><blockquote>

Met à jour l'état de la souris. 

</blockquote><p><b>Arguments</b></p><blockquote>
Aucun.


</blockquote><p><b>Valeur de retour</b></p><blockquote>

Renvoie une valeur non nulle si l'état de 
la souris a changé, zéro sinon. 

</blockquote><p><b>Remarques</b></p><blockquote>

Cette commande doit être utilisée avant <a href="mousedeltax.html">MouseDeltaX()</a>, <a href="mousedeltay.html">MouseDeltaY()</a>, <a href="mousex.html">MouseX()</a>, <a href="mousey.html">MouseY()</a> ou <a href="mousebutton.html">MouseButton()</a>. 
<br>
<br>
Le premier appel à ExamineMouse() capture la souris dans l'écran (surface accélérée) en cours, aussi bien en plein écran 
(<a href="../screen/openscreen.html">Screen</a> ) que dans un écran fenêtré (<a href="../screen/openwindowedscreen.html">WindowedScreen</a>). 
<br>
<br>
La souris est à nouveau disponible pour l’ensemble du système après avoir appelé <a href="releasemouse.html">ReleaseMouse(#True)</a> 
ou après la fin de ce programme. 
<br>
<br>
En <a href="../screen/openscreen.html">mode plein écran</a>, la commande <a href="../screen/flipbuffers.html">FlipBuffers()</a> doit être appelée dans la boucle d'événements pour gérer 
correctement tous les événements. 

</blockquote><p><b>Exemple</b></p><blockquote>

<pre><font face="Courier New, Courier, mono" size="2">  <font color="#006666">; Initialisation du monde 2D</font>
<font color="#006666">  InitSprite</font>()
<font color="#006666">  InitMouse</font>()

  <font color="#006666">; Ouverture de la fenêtre</font>
<font color="#006666">  OpenWindow</font>(0,0,0,800,600,&quot;Souris - Cliquer et utiliser la molette...&quot;,<font color="#924B72">#PB_Window_ScreenCentered</font>|<font color="#924B72">#PB_Window_SystemMenu</font>)
<font color="#006666">  OpenWindowedScreen</font>(<font color="#006666">WindowID</font>(0),0,0,800,600,1,0,0)

  <font color="#006666">;Création du curseur de la souris</font>
<font color="#006666">  LoadSprite</font>(0, <font color="#924B72">#PB_Compiler_Home</font> + &quot;examples/sources/Data/PureBasic.bmp&quot;)   <font color="#006666">; Load nice small Logo</font>

  <font color="#006666">; Déplacement de la souris</font>
<font color="#006666">  MouseLocate</font>(300,200)

  <font color="#006666">; Gestion de la fenêtre et de l'écran</font>
  <b><font color="#006666">Repeat</font></b>
    <b><font color="#006666">Repeat</font></b>      <font color="#006666">; Gestion de la fenêtre</font>
      Event  =<font color="#006666"> WindowEvent</font>() 
      <b><font color="#006666">Select</font></b> Event 
        <b><font color="#006666">Case</font></b> <font color="#924B72">#PB_Event_CloseWindow</font> 
        <b><font color="#006666">End</font></b>  
      <b><font color="#006666">EndSelect</font></b> 
    <b><font color="#006666">Until</font></b> Event = 0
  
<font color="#006666">  ExamineMouse</font>() <font color="#006666">; Etat de la souris</font>
  x =<font color="#006666"> MouseX</font>()   <font color="#006666">; Position en x de la souris                     </font>
  y =<font color="#006666"> MouseY</font>()   <font color="#006666">; Position en y de la souris</font>
  
  <font color="#006666">; Affichage du curseur</font>
<font color="#006666">  DisplaySprite</font>(0, x-<font color="#006666">SpriteWidth</font>(0)/2, y-<font color="#006666">SpriteHeight</font>(0)/2)
  
  <font color="#006666">; Molette de la souris = Rotation du curseur</font>
  tiks =<font color="#006666"> MouseWheel</font>()
<font color="#006666">  RotateSprite</font>(0, tiks, <font color="#924B72">#PB_Relative</font>)
  
  <font color="#006666">; Affichage de l'état de la souris</font>
<font color="#006666">  StartDrawing</font>(<font color="#006666">ScreenOutput</font>())
<font color="#006666">  DrawText</font>(0,5, &quot;X=&quot; +<font color="#006666"> Str</font>(x) + &quot;   Y=&quot; +<font color="#006666"> Str</font>(y) + &quot;  DeltaX &quot; +<font color="#006666"> Str</font>(<font color="#006666">MouseDeltaX</font>()) + &quot;  DeltaY= &quot; +<font color="#006666"> Str</font>(<font color="#006666">MouseDeltaY</font>())) 
  <b><font color="#006666">If</font></b> <font color="#006666">MouseButton</font>(<font color="#924B72">#PB_MouseButton_Left</font>) &lt;&gt; 0
<font color="#006666">    DrawText</font>(0,30, &quot;Bouton Gauche&quot;,<font color="#006666"> RGB</font>(255,0,0),<font color="#006666">RGB</font>(255,255,0))
  <b><font color="#006666">Else</font></b>
<font color="#006666">    DrawText</font>(0,30, &quot;Bouton Gauche&quot;,<font color="#006666"> RGB</font>(255,255,255))
  <b><font color="#006666">EndIf</font></b>
  <b><font color="#006666">If</font></b> <font color="#006666">MouseButton</font>(<font color="#924B72">#PB_MouseButton_Middle</font>) &lt;&gt; 0
<font color="#006666">    DrawText</font>(150,30, &quot;Bouton Central&quot;,<font color="#006666"> RGB</font>(255,0,0),<font color="#006666">RGB</font>(255,255,0))
  <b><font color="#006666">Else</font></b>
<font color="#006666">    DrawText</font>(150,30, &quot;Bouton Central&quot;,<font color="#006666"> RGB</font>(255,255,255))
  <b><font color="#006666">EndIf</font></b>
  <b><font color="#006666">If</font></b> <font color="#006666">MouseButton</font>(<font color="#924B72">#PB_MouseButton_Right</font>) &lt;&gt; 0  
<font color="#006666">    DrawText</font>(300,30, &quot;Bouton Droit&quot;,<font color="#006666"> RGB</font>(255,0,0),<font color="#006666">RGB</font>(255,255,0))
  <b><font color="#006666">Else</font></b>
<font color="#006666">    DrawText</font>(300,30, &quot;Bouton Droit&quot;,<font color="#006666"> RGB</font>(255,255,255))
  <b><font color="#006666">EndIf</font></b>  
  <b><font color="#006666">If</font></b> tiks &lt;&gt; 0
<font color="#006666">    DrawText</font>(450,30, &quot;Molette&quot;,<font color="#006666"> RGB</font>(255,0,0),<font color="#006666">RGB</font>(255,255,0))
  <b><font color="#006666">Else</font></b>
<font color="#006666">    DrawText</font>(450,30, &quot;Molette&quot;,<font color="#006666"> RGB</font>(255,255,255))
  <b><font color="#006666">EndIf</font></b>
<font color="#006666">  DrawText</font>(0,60,&quot;.: Libérer la souris: Clic sur bouton gauche et droit :.&quot;)
<font color="#006666">  StopDrawing</font>()
  
  <font color="#006666">; Si clic sur bouton gauche ET droit alors la souris est libérée de l'écran courant</font>
  <b><font color="#006666">If</font></b> <font color="#006666">MouseButton</font>(<font color="#924B72">#PB_MouseButton_Left</font>)  <b><font color="#006666">And</font></b> <font color="#006666">MouseButton</font>(<font color="#924B72">#PB_MouseButton_Right</font>) 
<font color="#006666">    ReleaseMouse</font>(1)
    oui=6
    quitter=<font color="#006666">MessageRequester</font>(&quot;Info !&quot;, &quot;Voulez-vous quitter le programme ?&quot;,<font color="#924B72">#PB_MessageRequester_YesNo</font>)
    <b><font color="#006666">If</font></b> quitter=oui
      <b><font color="#006666">End</font></b>
    <b><font color="#006666">EndIf</font></b>  
  <b><font color="#006666">EndIf</font></b>
  
<font color="#006666">  FlipBuffers</font>()
<font color="#006666">  ClearScreen</font>(<font color="#006666">RGB</font>(0,0,0)) 
  
  <b><font color="#006666">ForEver</font></b>
  <b><font color="#006666">End</font></b>
</font></pre>

</blockquote><p><b>Voir aussi</b></p><blockquote>

<a href="initmouse.html">InitMouse()</a>, <a href="mousedeltax.html">MouseDeltaX()</a>, <a href="mousedeltay.html">MouseDeltaY()</a>, 
<a href="mousex.html">MouseX()</a>, <a href="mousey.html">MouseY()</a>, <a href="mousebutton.html">MouseButton()</a> 

</Blockquote><p><b>OS Supportés </b><Blockquote>Tous</Blockquote></p><center><a href=index.html>Mouse Index</a> - <a href=initmouse.html>InitMouse()</a> -><br><br>

</body></html>