<html><head><title>LockMutex</title><meta charset="utf-8"></head>
<body bgcolor="#FFFFDF" link="#009999" vlink="#006666" alink="#006666">
<font face="Arial" size="2"><p align="center"><b><font size="4">LockMutex()</font></b></p>
<p><b>Syntaxe</b></p><blockquote>
<font color="#006666"><b>LockMutex</b></font>(Mutex)</blockquote>

</blockquote>
<b>Description</b><br><blockquote>

Verrouillage d'un mutex. 

</blockquote><p><b>Arguments</b></p><blockquote>
<style type="text/css">
table.parameters { border-spacing: 0px; border-style: none; border-collapse: collapse; }
table.parameters td { border-width: 1px; padding: 6px; border-style: solid; border-color: gray; vertical-align: top; font-family:Arial; font-size:10pt; }
</style>
<table width="90%" class="parameters">
<tr><td width="10%"><i>Mutex</i></td>
<td width="90%"> 
Le mutex à verrouiller. 

</td></tr>
</table>
</blockquote><p><b>Valeur de retour</b></p><blockquote>
Aucune.


</blockquote><p><b>Remarques</b></p><blockquote>

Cette fonction attend la disponibilité 
du mutex avant de le verrouiller et 
continue son exécution. Le prochain 
thread qui demandera le verrouillage 
de ce mutex ne pourra continuer son 
exécution que lorsque ce mutex sera 
déverrouillé. 
<br>
<br>
Il est garanti que seulement un thread 
continue d'exécuter le code protégé 
par ce mutex et peut ainsi accéder 
aux ressources partagées en lecture 
et en écriture sans risque de corruption. 
<br>
<br>
Si un autre thread appel LockMutex() 
alors que ce mutex est verrouillé, 
il sera stoppé et mis en attente 
jusqu'à ce que ce thread appelle 
<a href="unlockmutex.html">UnlockMutex()</a> pour déverrouiller 
le mutex. 
<br>
<br>
<b>Note:</b> étant donné que LockMutex() 
attend indéfiniment que le mutex 
soit déverrouillé, il peut y avoir 
des situations de blocage si un 
appel à <a href="unlockmutex.html">UnlockMutex()</a> est oublié. 

</blockquote><p><b>Exemple</b></p><blockquote>

<pre><font face="Courier New, Courier, mono" size="2">  <font color="#006666">; Exécutez ce programme une fois comme il se présente. </font>
  <font color="#006666">; Vous verrez que les lignes imprimées seront</font>
  <font color="#006666">; mélangées entre les threads. Puis supprimez </font>
  <font color="#006666">; les commentaires devant les commandes de Mutex</font>
  <font color="#006666">; et les chaînes seront imprimées dans l'ordre, </font>
  <font color="#006666">; car un seul thread à la fois sera autorisé </font>
  <font color="#006666">; à exécuter les commandes d'impression.</font>
  <font color="#006666">;</font>
  <b><font color="#006666">Procedure</font></b> <font color="#006666">SansMutex</font>(*Numero)     
    <b><font color="#006666">Shared</font></b> Mutex
    
    <b><font color="#006666">For</font></b> a = 1 <b><font color="#006666">To</font></b> 5      
      <font color="#006666">;LockMutex(Mutex)    ; supprimez le commentaire pour voir la différence</font>
    
<font color="#006666">      PrintN</font>(&quot;Thread &quot;+<font color="#006666">Str</font>(*Numero)+&quot; essaie d'imprimer 5 fois a la suite :&quot;)
      <b><font color="#006666">For</font></b> b = 1 <b><font color="#006666">To</font></b> 5
<font color="#006666">        Delay</font>(50)
<font color="#006666">        PrintN</font>(&quot;Thread &quot;+<font color="#006666">Str</font>(*Numero)+&quot; Ligne &quot;+<font color="#006666">Str</font>(b))
      <b><font color="#006666">Next</font></b> b          
      
      <font color="#006666">;UnlockMutex(Mutex)  ; supprimez le commentaire pour voir la différence</font>
    <b><font color="#006666">Next</font></b> a    
  <b><font color="#006666">EndProcedure</font></b>
  
<font color="#006666">  OpenConsole</font>()
  Mutex =<font color="#006666"> CreateMutex</font>()
  
  thread1 =<font color="#006666"> CreateThread</font>(@SansMutex(), 1)
<font color="#006666">  Delay</font>(25)
  thread2 =<font color="#006666"> CreateThread</font>(@SansMutex(), 2)
<font color="#006666">  Delay</font>(25)
  thread3 =<font color="#006666"> CreateThread</font>(@SansMutex(), 3)
  
<font color="#006666">  WaitThread</font>(thread1)
<font color="#006666">  WaitThread</font>(thread2)
<font color="#006666">  WaitThread</font>(thread3)
  
<font color="#006666">  Input</font>()
</font></pre>

</blockquote><p><b>Voir aussi</b></p><blockquote>

<a href="unlockmutex.html">UnlockMutex()</a>, <a href="createmutex.html">CreateMutex()</a> 

</Blockquote><p><b>OS Supportés </b><Blockquote>Tous</Blockquote></p><center><- <a href=killthread.html>KillThread()</a> - <a href=index.html>Thread Index</a> - <a href=pausethread.html>PauseThread()</a> -><br><br>

</body></html>