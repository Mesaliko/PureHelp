<html><head><title>DragOSFormats</title><meta charset="utf-8"></head>
<body bgcolor="#FFFFDF" link="#009999" vlink="#006666" alink="#006666">
<font face="Arial" size="2"><p align="center"><b><font size="4">DragOSFormats()</font></b></p>
<p><b>Syntax</b></p><blockquote>
Ergebnis = <font color="#006666"><b>DragOSFormats</b></font>(Formate(), Anzahl [, Aktionen])</blockquote>

</blockquote>
<b>Beschreibung</b><br><blockquote>

Startet eine Drag &amp; Drop Operation mit einer Liste vorgegebener Daten-Formate. Die verfügbaren 
Format-Typen und die Art und Weise, wie diese dargestellt werden, hängt vom Betriebssystem ab. 
Diese Funktion bietet die Möglichkeit zum Arbeiten mit Formaten, welche nicht nativ von PureBasic 
unterstützt werden, während trotzdem die von dieser Befehls-Bibliothek angebotenen einfachen 
Mechanismen zum Ausführen einer Drag &amp; Drop Operation genutzt werden können. 

</blockquote><p><b>Parameter</b></p><blockquote>
<style type="text/css">
table.parameters { border-spacing: 0px; border-style: none; border-collapse: collapse; }
table.parameters td { border-width: 1px; padding: 6px; border-style: solid; border-color: gray; vertical-align: top; font-family:Arial; font-size:10pt; }
</style>
<table width="90%" class="parameters">
<tr><td width="10%"><i>Formate()</i></td>
<td width="90%"> 
Ein <a href="../reference/dim.html">Array</a> von DragDataFormat <a href="../reference/structures.html">Strukturen</a>, 
welches ein oder mehrere &quot;Drag&quot;-Formate enthält. 
<br>
Die Struktur hat die folgende Form: 
<pre><font face="Courier New, Courier, mono" size="2">  <b><font color="#006666">Structure</font></b> DragDataFormat
    Format.i    <font color="#006666">; Die OS-spezifische ID für das &quot;zu verschiebende&quot; Format (siehe unten für weitere Informationen)</font>
    *Buffer     <font color="#006666">; Der Speicherpuffer, welcher die Daten in diesem Format enthält</font>
    Size.i      <font color="#006666">; Die Größe der Daten im Puffer</font>
  <b><font color="#006666">EndStructure</font></b>
</font></pre>

<b>Windows:</b> 
<blockquote>

Auf Windows gibt das 'Format'-Feld einen CLIPBOARDFORMAT Wert an. Es kann jedes standardmäßige 
Clipboard (Zwischenablage) Format sein (zu finden im Windows SDK) oder ein mit dem API-Befehl 
RegisterClipboardFormat_() registriertes Format. 
</blockquote>


<b>Linux:</b> 
<blockquote>

Auf Linux gibt das 'Format'-Feld einen GdkAtom Wert an. Dieser kann mit der gdk Funkion gdk_atom_intern_() erstellt werden. 
Häufig verstandene Atome sind die gemeinsamen Mime-Typen (z.B. &quot;text/html&quot; für Html-Daten). Das Atom kann 
auch mit jedem String, welcher von der Ziel-Applikation verstanden wird, erstellt werden. 
</blockquote>


<b>MacOSX:</b> 
<blockquote>

Auf MacOSX gibt das 'Format'-Feld einen &quot;Clipboard Scrap&quot;-Typ an. Dies sind 4-Zeichen Konstanten, 
zum Beispiel 'TEXT'. Es gibt eine Anzahl vordefinierter &quot;Scrap&quot;-Typen, aber auch eigene Werte können 
verwendet werden, wenn das Zielprogramm diese versteht. 
</blockquote>


</td></tr>
<tr><td><i>Anzahl</i></td>
<td> 
Die Anzahl der im Array enthaltenen Formate. 
<br>
<br>
Wenn mehrere Formate &quot;verschoben&quot; werden, wird das Ziel das erste - welches es erkennt - akzeptieren. 
Daher sollte das Format, welches die meisten Informationen enthält (d.h. die genauesten Daten 
darstellt), das erste im Array sein, während die üblichen aber weniger inhaltsreichen Formate 
später folgen. Auf diesem Weg wird jede Applikation die beste Darstellung von Daten erhalten, 
welche sie versteht. 

</td></tr>
<tr><td><i>Aktionen (optional)</i></td>
<td> 
Eine Kombination der Drag &amp; Drop Aktionen, welche für die Daten erlaubt sein sollen. 
Wenn der Parameter nicht angegeben wird, wird <font color="#924B72">#PB_Drag_Copy</font> die einzige erlaubte Aktion sein. 
Mögliche Aktionen sind: (sie können mittels '|' kombiniert werden) 
<pre><font face="Courier New, Courier, mono" size="2">  <font color="#924B72">#PB_Drag_Copy</font>: Die Daten können kopiert werden
  <font color="#924B72">#PB_Drag_Move</font>: Die Daten können verschoben werden
  <font color="#924B72">#PB_Drag_Link</font>: Die Daten können verlinkt werden
</font></pre>

Der Anwender kann durch Drücken der Zusatztasten wie 'Strg' oder 'Shift' entscheiden, welche dieser 
Aktionen verwendet werden soll. Die Aktionen, welche tatsächlich stattfinden können, richten sich 
auch nach den vom Zielobjekt (englisch &quot;drop target&quot;) erlaubten Aktionen. 
<br>
(Auf MacOSX werden die Aktionen nur als ein Vorschlag übergeben. Das Zielobjekt kann immer 
noch eine andere Aktion auswählen.) 

</td></tr>
</table>
</blockquote><p><b>Rückgabewert</b></p><blockquote>

Gibt einen der oben genannten Drag &amp; Drop Aktions-Werte zurück, welche die vom Anwender genutzte Aktion 
anzeigen, oder <font color="#924B72">#PB_Drag_None</font> wenn der Anwender die Drag &amp; Drop Operation abgebrochen hat. 
<br>
<br>
Bitte beachten Sie, dass es bei Rückgabe von <font color="#924B72">#PB_Drag_Move</font> in Ihrer Verantwortung liegt, 
die verschobenden Daten von Ihrer Applikation zu entfernen. 

</blockquote><p><b>Anmerkungen</b></p><blockquote>

Drag &amp; Drop kann grundsätzlich jederzeit gestartet 
werden, aber die linke Maustaste sollte aktuell gedrückt sein, da andernfalls die Operation umgehend 
und ohne Erfolg beendet wird. Der übliche Zeitpunkt zum Starten einer Drag &amp; Drop Operation ist, wenn 
ein <a href="../gadget/index.html">Gadget</a> über <a href="../window/eventtype.html">EventType()</a> ein Ereignis vom Typ 
<font color="#924B72">#PB_EventType_DragStart</font> zurückmeldet. 

</blockquote><p><b>Siehe auch</b></p><blockquote>

<a href="dragtext.html">DragText()</a>, <a href="dragimage.html">DragImage()</a>, <a href="dragfiles.html">DragFiles()</a>, <a href="dragprivate.html">DragPrivate()</a>, 
<a href="setdragcallback.html">SetDragCallback()</a> 

</Blockquote><p><b>Unterstützte OS </b><Blockquote>Alle</Blockquote></p><center><- <a href=dragimage.html>DragImage()</a> - <a href=index.html>DragDrop Inhaltsverzeichnis</a> - <a href=dragprivate.html>DragPrivate()</a> -><br><br>

</body></html>